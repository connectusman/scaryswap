(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[25],{1388:function(e,t,n){"use strict";n.r(t);var c,r,s,a=n(3),o=n.n(a),i=n(12),b=n(8),j=n(7),l=n(2),u=n(37),d=n(127),O=n(150),x=n(13),p=n(42),f=n(65),h=n(1),w=n(4),g=n(18),m=n(36),v=n(14),y=n.n(v),S=n(30),k=n(22),N=n(39),C=n(117),F=n(0),T=(k.c.times(k.c.pow(k.a)).toString(),function(e){var t=e.cost,n=e.onDismiss,c=(e.onSuccess,Object(u.c)().account),r=Object(C.d)().balance,s=Object(f.a)(),a=s.toastError,j=s.toastSuccess;console.log(r);var d=Object(p.f)(Object(g.j)()),O=Object(p.i)(N.i.newdragon.address[56]),w=Object(x.b)().t,m=Object(h.useState)(!1),v=Object(b.a)(m,2),k=v[0],T=(v[1],Object(h.useState)(0)),B=Object(b.a)(T,2),R=B[0],A=B[1];return Object(h.useEffect)((function(){function e(){return(e=Object(i.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.allowance(c,Object(g.j)());case 2:n=e.sent,new y.a(n.toString()).gte(new y.a(t))?A(2):A(1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c,O,t]),Object(F.jsx)(l.qb,{title:w("",{}),onDismiss:n,children:Object(F.jsxs)(l.sb,{maxWidth:"350px",children:[Object(F.jsx)(l.Xb,{color:"textSubtle",textAlign:"right",fontSize:"12px",mb:"16px",children:w("Balance: ")+Object(S.f)(r,18,6)}),Object(F.jsx)(l.Xb,{color:"textSubtle",fontSize:"12px",mb:"24px",children:w("If you don't commit enough BNBDRAGON tokens, you may not mint any NFT at all and will only receive a full refund of your BNBDRAGON.")}),Object(F.jsx)(l.o,{display:1===R?"block":"none",disabled:k,onClick:Object(i.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c.toLowerCase()!=="0xfe77839e7279d7c454a5ed68770f0fdd07520ebf".toLowerCase()){e.next=3;break}return e.abrupt("return");case 3:return console.log(t,new y.a(t).toString()),e.next=6,O.approve(Object(g.j)(),new y.a(t).toString());case 6:return n=e.sent,e.next=9,n.wait();case 9:e.sent.status&&(j(w("Approved"),w("BNBDRAGON are approved")),A(2)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a(w("Error"),w("You are not allowed."));case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),children:"Approve"}),Object(F.jsx)(l.o,{display:2===R?"block":"none",disabled:k,onClick:Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c.toLowerCase()!=="0xfe77839e7279d7c454a5ed68770f0fdd07520ebf".toLowerCase()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d.mintPublic(c,1);case 5:return t=e.sent,e.next=8,t.wait();case 8:e.sent.status&&(j(w("Success"),w("NFTs received successfully")),n()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),a(w("Error"),w("You are not allowed to Mint."));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),children:"Mint"})]})})}),B=n(369),R=function(e){var t=e.msg,n=(Object(x.b)().t,1646506800-(new Date).getTime()/1e3),c=Object(B.a)(n);return console.log(c),Object(F.jsx)(l.R,{justifyContent:"center",m:"10px",children:"false"===t?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(l.Db,{width:"28px",mr:"16px"}),Object(F.jsx)(l.R,{alignItems:"center",children:Object(F.jsx)(l.Xb,{style:{fontSize:"24px"},children:"Minting is Closed"})})]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(l.Db,{width:"28px",mr:"16px"}),Object(F.jsx)(l.R,{alignItems:"center",children:Object(F.jsx)(l.Xb,{style:{fontSize:"24px"},children:"Minting is Open"})})]})})},A=Object(w.e)(l.s)(c||(c=Object(j.a)(["\n  align-self: center;\n  width:300px;\n"]))),D=Object(w.e)(l.R)(r||(r=Object(j.a)(["\n  flex-direction: column;\n  justify-content: space-around;\n  \n  padding: 24px;\n"])));w.e.div(s||(s=Object(j.a)(["\n  padding: 24px;\n  border-top: 2px solid ",";\n  overflow: hidden;\n"])),(function(e){return e.theme.colors.cardBorder})),t.default=function(){var e=Object(x.b)().t,t=Object(f.a)(),n=(t.toastError,t.toastSuccess),c=(Object(p.f)(Object(g.j)()),Object(u.c)().account),r=Object(h.useState)({cost:"0"}),s=Object(b.a)(r,2),a=s[0],j=s[1],w=Object(h.useState)(!1),v=Object(b.a)(w,2),y=v[0],S=v[1];Object(h.useEffect)((function(){function e(){return(e=Object(i.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(m.j)(Object(g.j)()),e.next=3,t.paused.call();case 3:return n=e.sent,console.log(n),e.next=7,t.costPublic.call();case 7:r=e.sent,console.log(r.toString()),c&&j({cost:r.toString()}),S(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]);var k=function(){var t=Object(i.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(e("Success!"),e("NFT minted successfully"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=Object(l.wc)(Object(F.jsx)(T,{cost:a.cost,onSuccess:k}),!1),C=Object(b.a)(N,1)[0];return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(O.a,{children:[Object(F.jsx)(l.T,{as:"h1",scale:"xxl",color:"secondary",mb:"24px",children:e("NFTs")}),Object(F.jsx)(l.T,{scale:"lg",color:"text",children:e("Mint your new NFT")})]}),Object(F.jsx)(d.a,{style:{textAlign:"center",width:"300px"},children:Object(F.jsx)(A,{isActive:!0,children:Object(F.jsxs)(D,{children:[Object(F.jsx)(R,{msg:y?"false":"true"}),Object(F.jsx)("br",{}),Object(F.jsxs)(l.R,{justifyContent:"space-between",children:[Object(F.jsxs)(l.Xb,{children:[e("1 NFT"),":"]}),Object(F.jsx)(l.Xb,{bold:!0,children:"5000 BNBDRAGON"})]}),Object(F.jsx)("br",{}),Object(F.jsxs)(l.R,{justifyContent:"space-between",children:[Object(F.jsxs)(l.Xb,{children:[e("NFT per user"),":"]}),Object(F.jsx)(l.Xb,{bold:!0,children:"5 NFTs"})]}),Object(F.jsx)("br",{}),Object(F.jsx)(l.o,{disabled:"0"===a.cost,onClick:C,children:"Mint"})]})})})]})}}}]);
//# sourceMappingURL=25.cb629d21.chunk.js.map