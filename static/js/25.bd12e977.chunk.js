(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[25],{1387:function(e,t,n){"use strict";n.r(t);var c,r,s,a=n(3),o=n.n(a),i=n(12),b=n(7),l=n(8),j=n(2),u=n(40),d=n(147),x=n(185),p=n(13),O=n(42),f=n(67),h=n(1),g=n(4),w=n(18),m=n(36),y=n(14),v=n.n(y),S=n(30),k=n(70),C=n(28),R=n(38),N=n(138),B=n(0),A=[.1,.25,.5,.75,1],F=(C.c.times(C.c.pow(C.a)).toString(),function(e){var t=e.cost,n=e.qty,c=e.onDismiss,r=(e.onSuccess,Object(h.useState)("")),s=Object(b.a)(r,2),a=s[0],l=s[1],d=Object(u.c)().account,x=Object(N.d)().balance,g=Object(f.a)(),m=g.toastError,y=g.toastSuccess;console.log(x);var C=Object(O.f)(Object(w.j)()),F=Object(O.i)(R.i.newdragon.address[56]),D=Object(p.b)().t,T=(new v.a(a).times(k.j),Object(h.useState)(!1)),X=Object(b.a)(T,2),z=X[0],M=X[1],E=Object(h.useState)(0),L=Object(b.a)(E,2),I=L[0],G=L[1],W=Object(h.useState)(new v.a(-1)),q=Object(b.a)(W,2),Y=q[0],J=q[1];return Object(h.useEffect)((function(){function e(){return(e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.allowance(d,Object(w.j)());case 2:t=e.sent,J(new v.a(t.toString()));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d,F]),Object(B.jsx)(j.qb,{title:D("",{}),onDismiss:c,children:Object(B.jsxs)(j.sb,{maxWidth:"350px",children:[Object(B.jsx)(j.i,{style:{display:""!==Y.toString()?"block":"none"},value:a,onUserInput:function(){var e=Object(i.a)(o.a.mark((function e(c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(Y.toString(),c),l(c),M(Object(S.e)(new v.a(c),18).lt(new v.a(t).multipliedBy(n))),Object(S.e)(new v.a(c),18).lte(Y)?G(2):G(1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mb:"8px"}),Object(B.jsx)(j.Xb,{color:"textSubtle",textAlign:"right",fontSize:"12px",mb:"16px",children:D("Balance: ")+Object(S.f)(x,18,6)}),Object(B.jsx)(j.R,{justifyContent:"space-between",mb:"16px",children:A.map((function(e,t){return Object(B.jsxs)(j.o,{scale:"xs",variant:"tertiary",onClick:function(){return l((Number(Object(S.f)(x,18,6))*e).toString())},mr:t<A.length-1?"8px":0,children:[100*e,"%"]},e)}))}),Object(B.jsx)(j.Xb,{color:"textSubtle",fontSize:"12px",mb:"24px",children:D("If you don't commit enough BNBDRAGON tokens, you may not mint any NFT at all and will only receive a full refund of your BNBDRAGON.")}),Object(B.jsx)(j.o,{display:1===I?"block":"none",disabled:z,onClick:Object(i.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d.toLowerCase()!=="0xfe77839e7279d7c454a5ed68770f0fdd07520ebf".toLowerCase()){e.next=3;break}return e.abrupt("return");case 3:return console.log(t,new v.a(t).toString()),e.next=6,F.approve(Object(w.j)(),new v.a(t).multipliedBy(n).toString());case 6:return c=e.sent,e.next=9,c.wait();case 9:e.sent.status&&(y(D("Approved"),D("BNBDRAGON are approved")),G(2)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),m(D("Error"),D("You are not allowed."));case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),children:"Approve"}),Object(B.jsx)(j.o,{display:2===I?"block":"none",disabled:z,onClick:Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log(a),d.toLowerCase()!=="0xfe77839e7279d7c454a5ed68770f0fdd07520ebf".toLowerCase()){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,C.mintPublic(d,n);case 6:return t=e.sent,e.next=9,t.wait();case 9:e.sent.status&&(y(D("Success"),D("NFTs received successfully")),c()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),m(D("Error"),D("You are not allowed to Mint."));case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),children:"Mint"})]})})}),D=n(365),T=function(e){var t=e.msg,n=(Object(p.b)().t,1646506800-(new Date).getTime()/1e3),c=Object(D.a)(n);return console.log(c),Object(B.jsx)(j.R,{justifyContent:"center",m:"10px",children:"false"===t?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(j.Db,{width:"28px",mr:"16px"}),Object(B.jsx)(j.R,{alignItems:"center",children:Object(B.jsx)(j.Xb,{style:{fontSize:"24px"},children:"Minting is Closed"})})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(j.Db,{width:"28px",mr:"16px"}),Object(B.jsx)(j.R,{alignItems:"center",children:Object(B.jsx)(j.Xb,{style:{fontSize:"24px"},children:"Minting is Open"})})]})})},X=Object(g.e)(j.s)(c||(c=Object(l.a)(["\n  align-self: center;\n  width:300px;\n"]))),z=Object(g.e)(j.R)(r||(r=Object(l.a)(["\n  flex-direction: column;\n  justify-content: space-around;\n  \n  padding: 24px;\n"])));g.e.div(s||(s=Object(l.a)(["\n  padding: 24px;\n  border-top: 2px solid ",";\n  overflow: hidden;\n"])),(function(e){return e.theme.colors.cardBorder})),t.default=function(){var e=Object(p.b)().t,t=Object(h.useState)(1),n=Object(b.a)(t,2),c=n[0],r=n[1],s=Object(f.a)(),a=(s.toastError,s.toastSuccess),l=(Object(O.f)(Object(w.j)()),Object(u.c)().account),g=Object(h.useState)({cost:"0"}),y=Object(b.a)(g,2),v=y[0],S=y[1],k=Object(h.useState)(!1),C=Object(b.a)(k,2),R=C[0],N=C[1];Object(h.useEffect)((function(){function e(){return(e=Object(i.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(m.j)(Object(w.j)()),e.next=3,t.paused.call();case 3:return n=e.sent,console.log(n),e.next=7,t.costPublic.call();case 7:c=e.sent,console.log(c.toString()),l&&S({cost:c.toString()}),N(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l]);var A=function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(e("Success!"),e("You have contributed to this IFO!"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=Object(j.wc)(Object(B.jsx)(F,{cost:v.cost,qty:c,onSuccess:A}),!1),M=Object(b.a)(D,1)[0];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(x.a,{children:[Object(B.jsx)(j.T,{as:"h1",scale:"xxl",color:"secondary",mb:"24px",children:e("NFTs")}),Object(B.jsx)(j.T,{scale:"lg",color:"text",children:e("Mint your new NFT")})]}),Object(B.jsx)(d.a,{style:{textAlign:"center",width:"300px"},children:Object(B.jsx)(X,{isActive:!0,children:Object(B.jsxs)(z,{children:[Object(B.jsx)(T,{msg:R?"false":"true"}),Object(B.jsx)("br",{}),Object(B.jsxs)(j.R,{justifyContent:"space-between",children:[Object(B.jsxs)(j.Xb,{children:[e("1 NFT"),":"]}),Object(B.jsx)(j.Xb,{bold:!0,children:"5000 BNBDRAGON"})]}),Object(B.jsx)("br",{}),Object(B.jsxs)(j.R,{justifyContent:"space-between",children:[Object(B.jsxs)(j.Xb,{children:[e("Max mint amount"),":"]}),Object(B.jsx)(j.Xb,{bold:!0,children:"5 NFT"})]}),Object(B.jsx)("br",{}),Object(B.jsx)("div",{style:{display:"block",width:"300px",textAlign:"center"},children:Object(B.jsxs)("div",{style:{display:"flex",width:"260px",marginLeft:"30px",textAlign:"center"},children:[Object(B.jsx)("button",{type:"button",style:{marginLeft:"30px",marginRight:"30px",borderRadius:"10px",width:"30px",height:"30px",borderColor:"#fff",fontSize:"15px",fontWeight:"bolder"},onClick:function(){c>1&&r(c-1)},children:"-"}),Object(B.jsx)("p",{style:{fontSize:"15px",marginRight:"30px",fontWeight:"bolder",lineHeight:"2"},children:c}),Object(B.jsx)("button",{style:{borderRadius:"10px",width:"30px",height:"30px",marginRight:"30px",borderColor:"#fff",fontSize:"15px",fontWeight:"bolder"},type:"button",onClick:function(){c<5&&r(c+1)},children:"+"})]})}),Object(B.jsx)("br",{}),Object(B.jsx)(j.o,{disabled:"0"===v.cost,onClick:M,children:"Mint"})]})})})]})}}}]);
//# sourceMappingURL=25.bd12e977.chunk.js.map